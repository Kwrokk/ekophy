<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>Eko - Login</title>
    <style>
        body {
            background-color: #f6f4f0;
        }
    </style>
</head>
<body>
    <div class="w-50 mt-5 rounded-4 m-auto p-5" style="border: 7px double #222222;">

        <image src="Eko.png" alt="Logo" class="d-block mx-auto mb-4" style="width: 250px; height: auto;">        
        <h3 style="color: #222222; text-align: center;">Crie sua conta!</h3>
        <form action="#" class="d-flex gap-4 flex-column w-75 p-5 rounded-4 mx-auto">
            <div>
                <label for="nome" class="form-label">Nome:</label> <span class="text-danger">*</span>
                <input type="nome" minlength="1" id="nome" name="nome" class="form-control" required>
            </div>
            <div>
                <label for="email" class="form-label">E-mail:</label> <span class="text-danger">*</span>
                <input type="email" minlength="1" id="email" name="email" class="form-control" required>
            </div>
            <div>
                <label for="senha" class="form-label">Senha:</label> <span class="text-danger">*</span>
                <input type="password" minlength="1" id="senha" name="senha" class="form-control" required>
            </div>

            <button type="button" id="enviaFormulario" class="btn w-100" style="background-color: #222222; color: #f6f4f0; border-radius: 30px">Entrar</button>
        </form>
    </div>
    <script>
        const enviaFormularioBotao = document.getElementById("enviaFormulario");
        enviaFormularioBotao.addEventListener("click", () => {
            const nome = document.getElementById("nome").value;
            const email = document.getElementById("email").value;
            const senha = document.getElementById("senha").value;
            axios.post(`http://localhost:3000/usuarios`, {
                "nome": nome,
                "email": email,
                "senha": senha
            })
            .then(res => {
                if (res.status == 201) {
                    console.log("AAAAAAAAAAAAAAAAAAA")
                    window.location.href = `inicio.html?nome=${res.data.nome}&email=${res.data.email}`
                }
                // alert("Tente novamente.");
                console.log(res)
            })
            .catch(err => {
                console.log(err)
                alert("Tente novamente.");
            })
        })
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>